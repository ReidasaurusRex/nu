<div class="profile-show">
<h3><%= flash[:success] %></h3>
<h3><%= flash[:error] %></h3>

  <h1><%= @profile.full_name %></h1>
  <h3>Active since <%= @profile.start_date %></h3>
  <% if @profile == @user.profile %>
    <h4><%= link_to "Edit Profile", edit_profile_path(@profile) %></h4>
  <% else %>
    <%= render partial: "profiles/follow_system/follow_subscribe_summary", locals: {user_profile: @user.profile, target_profile: @profile} %>
  <% end %>

  <div class="profile-interests">
    <% if @profile.interests %>
      <h2>Interests</h2>
      <p><%= @profile.interests %></p>
    <% end %>
  </div>

  <% if @profile == @user.profile %>
    
    <div class="profile-relation follower-summary">
      <%= render partial: "follows_summary", locals: {follows: @profile.follows, user: @user} %>
    </div> <!-- profile-relation follower-summary -->

    <div class="profile-relation following-summary">
      <%=  render partial: "subscriptions_summary", locals: {subscriptions: @profile.subscriptions, user: @user} %>
    </div> <!-- profile-relation following-summary -->
  
  <% else %>

    <div class="profile-relation follower-summary">
      <h3>Followers: <%= @profile.followers.length %></h3>
    </div>

    <div class="profile-relation">
      <h3>Following: <%= @profile.followings.length %></h3>
    </div>

  <% end %> <!-- profile belongs to user --> 
</div>
